export default{_mtm:[],install:function(t,e){this._mtm=window._mtm=window._mtm||[],void 0!==e&&void 0!==e.url&&void 0!==e.id&&"number"!=typeof e.id&&this.init(e)},init:function(t){this._mtm.push({"mtm.startTime":(new Date).getTime(),event:"mtm.Start"});const e=document,n=e.createElement("script"),o=e.getElementsByTagName("script")[0];n.async=!0,n.src=`${t.url}/js/container_${t.id}.js`,o.parentNode.insertBefore(n,o)},bind:function(t){void 0!==t&&void 0!==t.router&&t.router.afterEach((e,n)=>{const o=t.router.options.history||t.router.options,i=o.base.substring(0,o.base.length-1),r=`${window.location.protocol}//${window.location.host}${i}${e.fullPath}`;let m=`${document.title}`,a=null,d=null,s=document.referrer,u=null;void 0!==t.user&&void 0!==t.user.id&&0!==t.user.id&&(a=`${t.user.id.toString()}`),void 0!==t.user&&void 0!==t.user.account&&(d=`${t.user.account.toString()}`),null!==n.name&&(s=`${window.location.protocol}//${window.location.host}${i}${n.fullPath}`),window.performance&&window.performance.timing&&window.performance.timing.domContentLoadedEventEnd&&window.performance.timing.navigationStart&&(u=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart),setTimeout(()=>{m=`${document.title}`,this._mtm.push({event:"PageView",currentUrl:r,referrerUrl:s,currentTitle:m,userId:a,userAccount:d,loadTime:u})},500)})},event:function(t,e){let n={event:t};"object"!=typeof e&&(e={}),Object.assign(n,e),this._mtm.push(n)},getRandomSerial:function(t,e){let n="";const o=(new Date).getTime();return"string"==typeof t&&(n+=`${t}-`),n+=`${Math.floor(o/1e3)}`,"string"==typeof e&&(n+=`-${e}`),n}};